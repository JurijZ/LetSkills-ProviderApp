{"version":3,"sources":["../../inlined/component/gallery-image/gallery-image.component.ts"],"names":[],"mappings":"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","file":"gallery-image.component.js","sourceRoot":"","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  Component,\n  OnInit,\n  Input,\n  ElementRef,\n  Renderer2\n} from '@angular/core';\nimport { GalleryState } from '../../service/gallery.state';\nimport { GalleryConfig } from '../../config';\nimport { GalleryService } from '../../service/gallery.service';\nimport { animation } from './gallery-image.animation';\n\ndeclare const Hammer: any;\n\n\nexport class GalleryImageComponent implements OnInit {\n\n   state: GalleryState;\n   config: GalleryConfig;\n  loading: boolean;\n  animate: string;\n\n  constructor(public gallery: GalleryService, private el: ElementRef, private renderer: Renderer2) {\n  }\n\n  ngOnInit() {\n    /** Enable gestures */\n    if (this.config.gestures) {\n      if (typeof Hammer === 'undefined') {\n\n        throw Error('[NgGallery]: HammerJS is undefined, make sure it is loaded');\n      } else {\n\n        const el = this.el.nativeElement;\n        const mc = new Hammer(el);\n\n        mc.on('panstart', () => {\n          this.renderer.removeClass(el, 'g-pan-reset');\n        });\n        mc.on('panend', () => {\n          this.renderer.addClass(el, 'g-pan-reset');\n        });\n        mc.on('pan', (e) => {\n          this.renderer.setStyle(el, 'transform', `translate3d(${e.deltaX}px, 0px, 0px)`);\n        });\n        /** Swipe next and prev */\n        mc.on('swipeleft', () => {\n          this.gallery.next();\n        });\n        mc.on('swiperight', () => {\n          this.gallery.prev();\n        });\n      }\n    }\n  }\n\n  imageLoad(done: boolean) {\n    this.loading = !done;\n    /** TODO: Add some animation */\n    \n    if (!done) {\n      this.animate = 'none';\n    } else {\n      switch (this.config.animation) {\n        case 'fade':\n          this.animate = 'fade';\n          break;\n        default:\n          this.animate = 'none';\n      }\n      //     this.animate = 'none';\n      //   case 'slide':\n      //     this.animate = (this.state.currIndex > this.state.prevIndex) ? 'slideLeft' : 'slideRight';\n      //     break;\n      //   default:\n      //     this.animate = 'none';\n    }\n\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-image',\n  template: \"\\n    <div [@imgAnimate]=\\\"animate\\\" class=\\\"g-image\\\">\\n      <img [lazyImage]=\\\"state.images[state.currIndex].src\\\" (lazyLoad)=\\\"imageLoad($event)\\\">\\n    </div>\\n\\n    <gallery-loader *ngIf=\\\"loading\\\" [config]=\\\"config.loader\\\"></gallery-loader>\\n  \",\n  styles: [\"\\n    :host{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;-webkit-box-flex:1;-ms-flex:1;flex:1;flex-direction:column;-webkit-transform:translateZ(0);transform:translateZ(0)}.g-image,:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column}.g-image{position:absolute;left:0;right:0;top:0;bottom:0;background-repeat:no-repeat;background-size:contain;background-position:50%;z-index:1;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.g-image img{box-shadow:0 0 4px rgba(0,0,0,.3);pointer-events:none;display:block;max-width:100%;max-height:100%}\\n  \"],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: animation\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: GalleryService, },\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'state': [{ type: Input },],\n'config': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}